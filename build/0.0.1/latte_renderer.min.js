!function(){function t(t){var e=function(t,e){return r("",t,e)},o=n;t&&(n[t]||(n[t]={}),o=n[t]),o.define&&o.define.packaged||(i.original=o.define,o.define=i,o.define.packaged=!0),o.require&&o.require.packaged||(r.original=o.require,o.require=e,o.require.packaged=!0)}var e="latte",n=function(){return this}();if(e||"undefined"==typeof requirejs){var i=function(t,e,n){return"string"!=typeof t?void(i.original?i.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=e),i.modules||(i.modules={},i.payloads={}),i.payloads[t]=n,void(i.modules[t]=null))},r=function(t,e,n){if("[object Array]"===Object.prototype.toString.call(e)){for(var i=[],o=0,s=e.length;s>o;++o){var c=u(t,e[o]);if(!c&&r.original)return r.original.apply(window,arguments);i.push(c)}n&&n.apply(null,i)}else{if("string"==typeof e){var a=u(t,e);return!a&&r.original?r.original.apply(window,arguments):(n&&n(),a)}if(r.original)return r.original.apply(window,arguments)}},o=function(t,e){if("."==e.charAt(0)){for(var n,i=t.split("/"),r=(i.pop(),e.split("/"));n=r.shift();)".."==n?i.pop():"."!=n&&i.push(n);return i.join("/")}return e},s=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return s(t,n[0])+"!"+s(t,n[1])}return name=o(t,e),name},u=function(t,e){e=s(t,e);var o=i.modules[e];if(!o){if(o=i.payloads[e],"function"==typeof o){var c={},a={id:e,uri:"",exports:c,packaged:!0},h=function(t,n){return r(e,t,n)},f=o(h,c,a,n);c=f||a.exports,i.modules[e]=c,delete i.payloads[e]}o=c||o,o||-1!=e.indexOf("/index")||(o=i.modules[e]=u(t,e+"/index"))}return o||console.log("unload error",t,e),i.modules[e]=o,o};t(e)}}(),latte.global=this,this.define=latte.define,latte.config={},function(){this.config={}}.call(latte),function(t){"use strict";t("latte_lib/async",["require","exports","module","window"],function(t,e,n,i){var r=t("./lib");r||console.log("no load lib"),function(){var t=this;this.setImmediate=r.setImmediate;var e=this.only_once=function(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}};this.forEach=this.each=function(t,n,i){function o(e){e?(i(e),i=function(){}):(s+=1,s>=t.length&&i())}if(i=i||function(){},!t.length)return i();var s=0;r.forEach(t,function(t){n(t,e(o))})},this.forEachSeries=this.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0;!function r(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n():r())})}()},this.forEachLimit=this.eachLimit=function(t,e,i,r){var o=n(e);o.apply(null,[t,i,r])};var n=function(t){return function(e,n,i){if(i=i||function(){},!e.length||0>=t)return i();var r=0,o=0,s=0;!function u(){if(r>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(i(t),i=function(){}):(r+=1,s-=1,r>=e.length?i():u())})}()}},i=function(e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[t.each].concat(n))}},o=function(t,e){return function(){var i=Array.prototype.slice.call(arguments);return e.apply(null,[n(t)].concat(i))}},s=function(e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[t.eachSeries].concat(n))}},u=function(t,e,n,i){if(e=r.map(e,function(t,e){return{index:e,value:t}}),i){var o=[];t(e,function(t,e){n(t.value,function(n,i){o[t.index]=i,e(n)})},function(t){i(t,o)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};this.map=i(u),this.mapSeries=s(u);var c=function(t){return o(t,u)};this.mapLimit=function(t,e,n,i){return c(e)(t,n,i)},this.inject=this.foldl=this.reduce=function(e,n,i,r){t.eachSeries(e,function(t,e){i(n,t,function(t,i){n=i,e(t)})},function(t){r(t,n)})},this.foldr=this.reduceRight=function(e,n,i,o){var s=r.map(e,function(t){return t}).reverse();t.reduce(s,n,i,o)};var a=function(t,e,n,i){var o=[];e=r.map(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&o.push(t),e()})},function(t){i(r.map(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};this.select=this.filter=i(a),this.selectSeries=this.filterSeries=s(a);var h=function(t,e,n,i){var o=[];e=r.map(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||o.push(t),e()})},function(t){i(r.map(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};this.reject=i(h),this.rejectSeries=s(h);var f=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(t){i()})};this.detect=i(f),this.detectSeries=s(f),this.any=this.some=function(e,n,i){t.each(e,function(t,e){n(t,function(t){t&&(i(!0),i=function(){}),e()})},function(t){i(!1)})},this.all=this.every=function(e,n,i){t.each(e,function(t,e){n(t,function(t){t||(i(!1),i=function(){}),e()})},function(t){i(!0)})},this.sortBy=function(e,n,i){t.map(e,function(t,e){n(t,function(n,i){n?e(n):e(null,{value:t,criteria:i})})},function(t,e){if(t)return i(t);var n=function(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0};i(null,r.map(e.sort(n),function(t){return t.value}))})},this.auto=function(t,e){e=e||function(){};var n=r.keys(t),i=n.length;if(!i)return e();var o={},s=[],u=function(t){s.unshift(t)},c=function(t){for(var e=0;e<s.length;e+=1)if(s[e]===t)return void s.splice(e,1)},a=function(){i--,r.forEach(s.slice(0),function(t){t()})};u(function(){if(!i){var t=e;e=function(){},t(null,o)}}),r.forEach(n,function(n){var i=r.isArray(t[n])?t[n]:[t[n]],s=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var s={};r.forEach(r.keys(o),function(t){s[t]=o[t]}),s[n]=i,e(t,s),e=function(){}}else o[n]=i,r.setImmediate(a)},h=i.slice(0,Math.abs(i.length-1))||[],f=function(){return r.reduce(h,function(t,e){return t&&o.hasOwnProperty(e)},!0)&&!o.hasOwnProperty(n)};if(f())i[i.length-1](s,o);else{var l=function(){f()&&(c(l),i[i.length-1](s,o))};u(l)}})},this.retry=function(e,n,i){var r=5,o=[];"function"==typeof e&&(i=n,n=e,e=r),e=parseInt(e,10)||r;var s=function(r,s){for(var u=function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},s)}};e;)o.push(u(n,!(e-=1)));t.series(o,function(t,e){e=e[e.length-1],(r||i)(e.err,e.result)})};return i?s():s},this.waterfall=function(e,n){if(n=n||function(){},!r.isArray(e)){var i=new Error("First argument to waterfall must be an array of functions");return n(i)}if(!e.length)return n();var o=function(t){return function(e){if(e)n.apply(null,arguments),n=function(){};else{var i=Array.prototype.slice.call(arguments,1),s=t.next();s?i.push(o(s)):i.push(n),r.setImmediate(function(){t.apply(null,i)})}}};o(t.iterator(e))()};var l=function(t,e,n){if(n=n||function(){},r.isArray(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(r.keys(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};this.parallel=function(e,n){l({map:t.map,each:t.each},e,n)},this.parallelLimit=function(t,e,i){l({map:c(e),each:n(e)},t,i)},this.series=function(e,n){if(n=n||function(){},r.isArray(e))t.mapSeries(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.eachSeries(_keys(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}},this.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},this.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var d=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};this.concat=i(d),this.concatSeries=s(d),this.whilst=function(e,n,i){e()?n(function(r){return r?i(r):void t.whilst(e,n,i)}):i()},this.doWhilst=function(e,n,i){e(function(r){if(r)return i(r);var o=Array.prototype.slice.call(arguments,1);n.apply(null,o)?t.doWhilst(e,n,i):i()})},this.until=function(e,n,i){e()?i():n(function(r){return r?i(r):void t.until(e,n,i)})},this.doUntil=function(e,n,i){e(function(r){if(r)return i(r);var o=Array.prototype.slice.call(arguments,1);n.apply(null,o)?i():t.doUntil(e,n,i)})},this.queue=function(t,n){function i(t,e,n,i){return t.started||(t.started=!0),_isArray(e)||(e=[e]),0==e.length?r.setImmediate(function(){t.drain&&t.drain()}):void r.forEach(e,function(e){var o={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(o):t.tasks.push(o),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),r.setImmediate(t.process)})}void 0===n&&(n=1);var o=0,s={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){i(s,t,!1,e)},kill:function(){s.drain=null,s.tasks=[]},unshift:function(t,e){i(s,t,!0,e)},process:function(){if(!s.paused&&o<s.concurrency&&s.tasks.length){var n=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),o+=1;var i=function(){o-=1,n.callback&&n.callback.apply(n,arguments),s.drain&&s.tasks.length+o===0&&s.drain(),s.process()},r=e(i);t(n.data,r)}},length:function(){return s.tasks.length},running:function(){return o},idle:function(){return s.tasks.length+o===0},pause:function(){s.paused!==!0&&(s.paused=!0,s.process())},resume:function(){s.paused!==!1&&(s.paused=!1,s.process())}};return s},this.priorityQueue=function(e,n){function i(t,e){return t.priority-e.priority}function o(t,e,n){for(var i=-1,r=t.length-1;r>i;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function s(t,e,n,s){return t.started||(t.started=!0),_isArray(e)||(e=[e]),0==e.length?r.setImmediate(function(){t.drain&&t.drain()}):void r.forEach(e,function(e){var u={data:e,priority:n,callback:"function"==typeof s?s:null};t.tasks.splice(o(t.tasks,u,i)+1,0,u),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),r.setImmediate(t.process)})}var u=t.queue(e,n);return u.push=function(t,e,n){s(u,t,e,n)},delete u.unshift,u},this.cargo=function(t,e){var n=!1,i=[],o={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){r.isArray(t)||(t=[t]),r.forEach(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),o.drained=!1,o.saturated&&i.length===e&&o.saturated()}),r.setImmediate(o.process)},process:function s(){if(!n){if(0===i.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var u="number"==typeof e?i.splice(0,e):i.splice(0,i.length),c=r.map(u,function(t){return t.data});o.empty&&o.empty(),n=!0,t(c,function(){n=!1;var t=arguments;r.forEach(u,function(e){e.callback&&e.callback.apply(null,t)}),s()})}},length:function(){return i.length},running:function(){return n}};return o};var p=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach(n,function(e){console[t](e)}))}]))}};this.log=p("log"),this.dir=p("dir"),this.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var o=function(){var o=Array.prototype.slice.call(arguments),s=o.pop(),u=e.apply(null,o);u in n?r.nextTick(function(){s.apply(null,n[u])}):u in i?i[u].push(s):(i[u]=[s],t.apply(null,o.concat([function(){n[u]=arguments;var t=i[u];delete i[u];for(var e=0,r=t.length;r>e;e++)t[e].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=t,o},this.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},this.times=function(e,n,i){for(var r=[],o=0;e>o;o++)r.push(o);return t.map(r,n,i)},this.timesSeries=function(e,n,i){for(var r=[],o=0;e>o;o++)r.push(o);return t.mapSeries(r,n,i)},this.seq=function(){var e=arguments;return function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();t.reduce(e,i,function(t,e,i){e.apply(n,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,e){r.apply(n,[t].concat(e))})}},this.compose=function(){return t.seq.apply(null,Array.prototype.reverse.call(arguments))};var y=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};this.applyEach=i(y),this.applyEachSeries=s(y),this.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()}}.call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/coding/base64",["require","exports","module","window"],function(t,e,n,i){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(n){var i,r,o,s,u,c,a,h="",f=0;for(n=t("./utf8").encode(n);f<n.length;)i=n.charCodeAt(f++),r=n.charCodeAt(f++),o=n.charCodeAt(f++),s=i>>2,u=(3&i)<<4|r>>4,c=(15&r)<<2|o>>6,a=63&o,isNaN(r)?c=a=64:isNaN(o)&&(a=64),h=h+e.charAt(s)+e.charAt(u)+e.charAt(c)+e.charAt(a);return h},this.decode=function(n){var i,r,o,s,u,c,a,h="",f=0;for(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<n.length;)s=e.indexOf(n.charAt(f++)),u=e.indexOf(n.charAt(f++)),c=e.indexOf(n.charAt(f++)),a=e.indexOf(n.charAt(f++)),i=s<<2|u>>4,r=(15&u)<<4|c>>2,o=(3&c)<<6|a,h+=String.fromCharCode(i),64!=c&&(h+=String.fromCharCode(r)),64!=a&&(h+=String.fromCharCode(o));return h=t("./utf8").decode(h)}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/coding/hex",["require","exports","module","window"],function(t,e,n,i){(function(){this.encode=function(t){for(var e="0123456789ABCDEF",n=16,i=t.length,r="",o=0;i>o;o++){var s=parseInt(t.charCodeAt(o),10);r+="%"+Math.floor(s/n)+e.charAt(s%n)}return r},this.decode=function(t){for(var e=t.split("%"),n="",i=1;e[i];i++)n+=String.fromCharCode(parseInt(e[i],16));return n}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/coding/utf8",["require","exports","module","window"],function(t,e,n,i){(function(){function t(t,e){return u(t>>e&63|128)}function e(e){if(0==(4294967168&e))return u(e);var n="";return 0==(4294965248&e)?n=u(e>>6&31|192):0==(4294901760&e)?(n=u(e>>12&15|224),n+=t(e,6)):0==(4292870144&e)&&(n=u(e>>18&7|240),n+=t(e,12),n+=t(e,6)),n+=u(63&e|128)}function n(){if(s>=o)throw Error("Invalid byte index");var t=255&r[s];if(s++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function i(){var t,e,i,u,c;if(s>o)throw Error("Invalid byte index");if(s==o)return!1;if(t=255&r[s],s++,0==(128&t))return t;if(192==(224&t)){var e=n();if(c=(31&t)<<6|e,c>=128)return c;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=n(),i=n(),c=(15&t)<<12|e<<6|i,c>=2048)return c;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=n(),i=n(),u=n(),c=(15&t)<<18|e<<12|i<<6|u,c>=65536&&1114111>=c))return c;throw Error("Invalid UTF-8 detected")}this.version="0.0.1";var r,o,s,u=String.fromCharCode,c=this.ucs2encode=function(t){for(var e,n=t.length,i=-1,r="";++i<n;)e=t[i],e>65535&&(e-=65536,r+=u(e>>>10&1023|55296),e=56320|1023&e),r+=u(e);return r},a=this.ucs2decode=function(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i};this.encode=function(t){for(var n,i=a(t),r=i.length,o=-1,s="";++o<r;)n=i[o],s+=e(n);return s},this.decode=function(t){r=a(t),o=r.length,s=0;for(var e,n=[];(e=i())!==!1;)n.push(e);return c(n)}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/debug",["require","exports","module","window"],function(t,e,n,i){var r=function(t){var e=t.toString().split("\n")[2],n=e.substring(e.indexOf("(")+1,e.indexOf(")"));return n},o=i?!i.debug:-1==process.argv.indexOf("-debug"),s={};["log","info","error","warn"].forEach(function(t){s[t]=function(){if(!o){var e=new Error("debug");console[t].apply(console[t],[r(e.stack)].concat(Array.prototype.slice.call(arguments)))}}}),n.exports=s})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/events",["require","exports","module","window"],function(t,e,n,i){var r;if(i){var r=function(){this._events=this._events||{}};(r["interface"]=function(){this.on=this.addEventListener=function(t,e){return this._events=this._events||{},(this._events[t]=this._events[t]||[]).push(e),this},this.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._events=this._events||{},n.fn=e,this.on(t,n),this},this.off=this.removeListener=this.removeAllListeners=this.removeEventListener=function(t,e){if(this._events=this._events||{},0==arguments.length)return this._events={},this;var n=this._events[t];if(!n)return this;if(1==arguments.length)return delete this._events[t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return this},this.emit=function(t){this._events=this._events||{};var e=[].slice.call(arguments,1),n=this._events[t];if(n){n=n.slice(0);for(var i=0,r=n.length;r>i;++i)n[i].apply(this,e)}return this},this.listeners=function(t){return this._events=this._events||{},this._events[t]||[]},this.hasListeners=function(t){return!!this.listeners(t).length}}).call(r.prototype)}else r=t("events").EventEmitter;n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/format",["require","exports","module","window"],function(t,e,n,i){var r=t("./lib");(function(){function t(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function n(e){return t(e,2)}function i(t){var e=Math.abs(t.getTimezoneOffset()),n=String(Math.floor(e/60)),i=String(e%60);return 1==n.length&&(n="0"+n),1==i.length&&(i="0"+i),t.getTimezoneOffset()<0?"+"+n+i:"-"+n+i}var o=this;this.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",this.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",this.DATETIME_FORMAT="hh:mm:ss.SSS",this.getDateReplace=function(e,r,o){r=r||"",o=o||"";var s=n(e.getDate()),u=n(e.getMonth()+1),c=n(e.getFullYear()),a=n(e.getFullYear().toString().substring(2,4)),h=n(e.getHours()),f=n(e.getMinutes()),l=n(e.getSeconds()),d=t(e.getMilliseconds(),3),p=i(e),y={};return y[r+"dd"+o]=s,y[r+"MM"+o]=u,y[r+"yyyy"+o]=c,y[r+"y{1,4}"+o]=a,y[r+"hh"+o]=h,y[r+"mm"+o]=f,y[r+"ss"+o]=l,y[r+"SSS"+o]=d,y[r+"O"+o]=p,y},this.dateFormat=function(t,n){n||(n=t||new Date,t=e.ISO8601_FORMAT);var i=t,s=o.getDateReplace(n);return r.jsonForEach(s,function(t,e){i=i.replace(new RegExp(t,"g"),e)}),i};var s=function(t,e){var n=[];if(e>0)for(var i=0;e>i;i++)n.push(t);return n.join("")},u=function(t,e,n,i){var o=i?s(n.t,e-1):"";if(null===t||void 0===t)return o+"null";switch(r.getClassName(t)){case"array":for(var c=s(n.t,e-1),a=[n.n+c+"["+n.n],h=[],f=0,l=t.length;l>f;f++)h.push(u(t[f],e+1,n,!0));return a.push(h.join(","+n.n)),a.push(n.n+c+"] "),a.join("");case"object":var d=[];for(var p in t)if(void 0!=t[p]){var a=[],c=s(n.t,e);a.push(c),a.push('"'+p+'" : ');var y=t[p];a.push(u(y,e+1,n)),d.push(a.join(""))}return(e>1&&!i?n.n:"")+s(n.t,e-1)+"{"+n.n+d.join(","+n.n)+n.n+s(n.t,e-1)+"}";case"number":return o+t.toString();case"boolean":return o+t.toString().toLowerCase();case"function":return"[Function]";default:return o+('"'+t.toString()+'"')}},c={n:"\n",t:"	"};this.jsonFormat=function(t,e){e=r.merger(c,e);try{return u(t,1,e)}catch(n){throw t}},this.templateStringFormat=function(t,e){var n=t;for(var i in e)n=n.replace(new RegExp("{{"+i+"}}","igm"),e[i]);return n},this.templateJsonFormat=function(t,e){var t=JSON.stringify(t),n=o.templateStringFormat(t,e);return JSON.parse(n)}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/index",["require","exports","module","window"],function(t,e,n,i){n.exports=t("./lib"),function(){i||(this.fs=t("./old/fs")),this.utf8=t("./coding/utf8"),this.async=t("./async"),this.events=t("./events"),this.format=t("./format"),this.removeIdle=t("./old/removeIdle"),this.queue=t("./old/queue"),this.base64=t("./coding/base64"),this.debug=t("./debug"),this.xhr=t("./old/xhr")}.call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/lib",["require","exports","module","window"],function(t,e,n,i){(function(){var e=this;this.setImmediate=this.nextTick=function(){return"undefined"!=typeof process&&process.nextTick?process.nextTick:i&&"function"==typeof i.setImmediate?i.setImmediate:function(t){setTimeout(t,0)}}(),this.inherits=function(t,e){if("function"==typeof Object.create)t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},this.forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0,i=t.length;i>n;n++)e(t[n],n,t)},this.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},this.copyArray=function(t){return t.concat([])},this.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},this.removeArray=function(t,n,i){var r=e.copyArray(t);return e.removeLocalArray(r,n,i),r},this.removeLocalArray=function(t,e,n){return n=n||e,t.splice(e,n-e+1),t},this.inserLocalArray=function(t,e,n){return t.splice(e,0,n),t},this.copy=function(t){return JSON.parse(JSON.stringify(t))},this.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},this.reduce=function(t,n,i){return t.reduce?t.reduce(n,i):(e.forEach(t,function(t,e,r){i=n(i,t,e,r)}),i)},this.map=function(t,n){if(t.map)return t.map(n);var i=[];return e.forEach(t,function(t,e,r){i.push(n(t,e,r))}),i},this.jsonForEach=function(t,e){this.keys(t).forEach(function(n){e(n,t[n])})},this.getChar=function(t,e){var n=t.split("");return n[e]},Function.prototype.bind||(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),n=this;return function(){n.apply(t,e.concat(Array.prototype.slice.call(arguments)))}}),this.isArray=function(t){if(Array.isArray)return Array.isArray(t);throw"no handle isArray"},this.isDate=function(t){return t.constructor==Date},["String","Function","Boolean","Number"].forEach(function(t){e["is"+t]=function(e){return typeof e==t.toLowerCase()}}),this.getClassName=function(t){for(var n=["Array","String","Number","Date","Boolean","Function"],i=0,r=n.length;r>i;i++)if(e["is"+n[i]](t))return n[i].toLowerCase();return"object"},this.merger=function(t){var t=e.clone(t);return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(n){t[n]=e[n]})}),t},this.getErrorString=function(e){if(e.stack)return e.stack.toString();if(latte_lib.isString(e))return e.toString();var n;try{n=JSON.stringify(e)}catch(i){var r=t("util");n=r.inspect(e)}return n}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/blobBuilder",["require","exports","module","window"],function(t,e,n,i){var r=i;r.URL=r.URL||r.webkitURL;var o=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,u=function(t){this.code=this[this.name=t]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),a=c.length,h=t.URL||t.webkitURL||t,f=h.createObjectURL,l=h.revokeObjectURL,d=h,p=t.btoa,y=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,g=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;a--;)u.prototype[c[a]]=a+1;return h.createObjectURL||(d=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(g),n.origin=e&&e[1])),n}),d.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):f?f.call(h,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&l&&l.call(h,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),c=0,a=o.length;a>c;c++)r+=String.fromCharCode(o[c]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new u("NOT_READABLE_ERR");var h=new s;n.push(h.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&y?n.push(y(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return 3>r&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(r);r.Blob=function(t,e){var n=e?e.type||"":"",i=new o;if(t)for(var r=0,s=t.length;s>r;r++)i.append(t[r]);return i.getBlob(n)},n.exports=o})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/buffer",["require","exports","module","window"],function(t,e,n,i){if(i){var r=t("../coding/utf8"),o=function(){function t(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function e(t,e,n,i,r,o){if(e%1!==0||e>r||o>e)throw TypeError("value is out of bounds");if(n%1!==0||0>n)throw TypeError("offset is not uint");if(n+i>t.length||t.length+n<0)throw RangeError("Trying to write outside buffer length")}this.slice=function(t,e){var n=Array.prototype.slice.call(this,t,e);return new s(n)},this.readInt32LE=function(e,n){return n||t(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},this.readInt16LE=function(e,n){n||t(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},this.writeInt32LE=function(t,n,i){i||e(this,t,n,4,2147483647,-2147483648),this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24},this.writeInt16LE=function(t,n,i){i||e(this,t,n,2,32767,-32768),this[n]=t,this[n+1]=t>>>8},this.copy=function(t,e,n,i){for(var n=n||0,i=i||this.length,r=0,o=i-n;o>=r;r++)t[e+r]=this[n+r]},this.toString=function(t,e,n){switch(t){default:var i=r.ucs2encode(this);return i}}},s=function(t){var t=new Uint8Array(t);return o.call(t),t};(function(){this.create=function(t){if("string"==typeof t){var t=r.ucs2decode(t),e=new s(t.length);return t.forEach(function(t,n){e[n]=t}),e}}}).call(s),n.exports=s}else n.exports=s})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/fs",["require","exports","module","window"],function(t,e,n,i){var r=t("fs"),o=t("path");(function(){var t=this;for(var e in r)t[e]=r[e];this.exists=function(t,e){return r.exists(t,e)},this.existsSync=function(t){return r.existsSync(t)},this.mkdirSync=function(e,n){if(t.existsSync(e))return null;if(!t.existsSync(o.dirname(e))){var i=t.mkdirSync(o.dirname(e),n);if(i)return i}return r.mkdirSync(e,n)},this.writeFileSync=function(e,n){var i=t.mkdirSync(o.dirname(e));return i?i:r.writeFileSync(e,n,{encoding:"utf8"})},this.writeFile=function(e,n,i){t.mkdir(o.dirname(e),null,function(){r.writeFile(e,n,{encoding:"utf8"},i)})},this.readFile=function(t,e){return r.readFile(t,function(t,n){e(t,n?n.toString():null)})},this.readFileSync=function(t){return r.readFileSync(t).toString()},this.mkdir=function(e,n,i){t.exists(e,function(s){s?i(null,e):t.mkdir(o.dirname(e),n,function(t){return t?i(t):void r.mkdir(e,n,i)})})},this.copyFile=function(e,n,i){try{var s=r.createReadStream(e);t.mkdir(o.dirname(n),null,function(t){var e=r.createWriteStream(n);s.pipe(e),i(null)})}catch(u){i(u)}},this.copyDir=function(t,e,n){},this.fileType=function(t){return o.extname(t).substring(1)},this.lstatSync=function(t){return r.lstatSync(t)},this.readdirSync=function(t){return r.readdirSync(t)},this.realpathSync=function(t,e){return r.realpathSync(t,e)},this.appendFile=function(t,e,n,i){return r.appendFile(t,e,n,i)},this.appendFileSync=function(t,e,n){return r.appendFile(t,e,n)},this.deleteFile=function(t,e){r.unlink(t,e)},this.deleteFileSync=function(t){return r.unlinkSync(t)},this.stat=function(t,e){return r.stat(t,e)},this.createReadStream=function(t,e){return r.createReadStream(t,e)},this.createWriteStream=function(t,e){return r.createWriteStream(t,e)},this.rename=function(t,e,n){return r.rename(t,namePath,n)},this.watch=function(t,e,n){return r.watch(t,e,n)},this.statSync=function(t){return r.statSync(t)},this.WriteStream=r.WriteStream}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/promise",["require","exports","module","window"],function(t,e,n,i){(function(){this.defer=function(){var t,e=[];return{resolve:function(n){if(e){t=ref(n);for(var i=0,r=e.length;r>i;i++)enqueue(function(){t.then.apply(t,e[i])});e=void 0}},promise:{then:function(n,i){var r=defer();n=n||function(t){return t},i=i||function(t){return reject(t)};var o=function(t){r.resolve(n(t))},s=function(t){r.resolve(i(t))};return e?e.push([o,s]):enqueue(function(){t.then(o,s)}),r.promise}}}},this.ref=function(t){return t&&t.then?t:{then:function(e){var n=defer();return enqueue(function(){n.resolve(e(t))}),n.promise}}},this.reject=function(t){return{then:function(e,n){var i=defer();return enqueue(function(){i.resolve(n(t))}),i.promise}}},this.when=function(t,e,n){var i,r=defer();e=e||function(t){return t},n=n||function(t){return reject(t)};var o=function(t){try{return e(t)}catch(n){return reject(n)}},s=function(t){try{return n(t)}catch(t){return reject(t)}};return enqueue(function(){ref(t).then(function(t){i||(i=!0,r.resolve(ref(t).then(o,s)))},function(t){i||(i=!0,r.resolve(s(t)))})}),r.promise}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/queue",["require","exports","module","window"],function(t,e,n,i){function r(t){this._size=Math.max(0|+t,1),this.slots=[];for(var e=0;e<this._size;e++)this.slots.push([])}(function(){this.size=function(){if(null==this.total){this.total=0;for(var t=0;t<this._size;t++)this.total+=this.slots[t].length}return this.total},this.enqueue=function(t,e){var n;e=e&&0|+e||0,this.total=null,e&&(n=e,(0>e||e>=this._size)&&(e=this._size-1)),this.slots[e].push(t)},this.dequeue=function(){var t=null,e=this.slots.length;this.total=null;for(var n=0;e>n;n++)if(this.slots[n].length>0){t=this.slots[n].shift();break}return t}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/reconnection",["require","exports","module","window"],function(t,e,n,i){function r(t){this.attempts=0,this.reconnecting=t.reconnecting||!1,this.openReconnect=!0,this.readyState="close",this.reconnectionDelay=t.reconnectionDelay||2e3,this.reconnectionDelayMax=t.reconnectionDelayMax||6e4}t("../lib");(function(){this.maybeReconnectOnOpen=function(){!this.reconnecting&&-1!=this.readyState.indexOf("close")&&this.openReconnect&&this.reconnect();
},this.cleanup=function(){},this.onReconnect=function(){this.attempts;this.attempts=0,this.reconnecting=!1},this.reconnect=function(){if(this.reconnecting)return this;if(!this.openReconnect)return this;var t=this;if(this.attemptsMax&&++this.attempts>this.attemptsMax)this.reconnecting=!1,console.log("reconnecting_fail full");else{var e=this.attempts*this.reconnectionDelay;e=Math.min(e,this.reconnectionDelayMax),this.reconnecting=!0;setTimeout(function(){t.open(function(e){e?(t.reconnecting=!1,t.reconnect()):t.onReconnect()})},e)}},this.onClose=function(t){this.cleanup(),this.readyState="closed",this.openReconnect&&this.reconnect()}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_lib/old/removeIdle",["require","exports","module","window"],function(t,e,n,i){function r(t){this.reapIntervalMillis=t.reapIntervalMillis||1e3,this.idleTimeoutMillis=t.idleTimeoutMillis||1e4,this.refreshIdle=t.refreshIdle||!0,this.returnToHead=t.returnToHead||!1,this.scheduleRemoveIdle(),this.min=t.min||0,this.max=t.max||1e3,this.availableObjects=[],this._destroy=t.destroy||function(){},this._create=t.create,this.log=t.log||null}(function(){this.removeConditions=function(){return!0},this.ensureMinimum=function(){},this.dispense=function(){},this.getIdle=function(t){this.availableObjects=this.availableObjects.filter(function(e){return e.obj!==t})},this.size=function(){return this.availableObjects.length},this.update=function(t){for(var e=0,n=this.availableObjects.length;n>e&&this.removeConditions();e++)t==this.availableObjects[e].obj&&(this.availableObjects[e].timeout=(new Date).getTime()+this.idleTimeoutMillis)},this.release=function(t){if(this.availableObjects.some(function(e){return e.obj===t?(e.timeout=(new Date).getTime()+this.idleTimeoutMillis,!0):void 0}))return void(this.log&&this.log.error("called twice for the same resource"));var e={obj:t,timeout:(new Date).getTime()+this.idleTimeoutMillis};this.returnToHead?this.availableObjects.splice(0,0,e):this.availableObjects.push(e),this.dispense(),this.scheduleRemoveIdle()},this.removeIdle=function(){var t=[],e=(new Date).getTime(),n=this;this.removeIdleScheduled=!1;for(var i=0,r=this.availableObjects.length;r>i&&this.removeConditions();i++){var o=this.availableObjects[i].timeout;e>o&&t.push(this.availableObjects[i].obj)}for(var i=0,r=t.length;r>i;i++)n.destroy(t[i]);this.availableObjects.length>0&&this.scheduleRemoveIdle()},this.scheduleRemoveIdle=function(){this.removeIdleScheduled||(this.removeIdleScheduled=!0,this.removeIdleTimer=setTimeout(this.removeIdle.bind(this),this.reapIntervalMillis))},this.destroy=function(t){this.getIdle(t),this._destroy(t),this.ensureMinimum()},this.destroyAllNow=function(t){var e=this.availableObjects;this.availableObjects=[];for(var n=e.shift(),i=this;null!==n&&void 0!==n;)i.destroy(n.obj),n=e.shift();this.removeIdleScheduled=!1,clearTimeout(this.removeIdleTimer),t&&t()}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){t("latte_lib/old/xhr",["require","exports","module","window"],function(t,e,n,i){var r,o,s=t("../lib"),u=t("../events"),c=function(){},a={};if(i)o=i.XMLHttpRequest,r=function(t){this.method=t.method||"GET",this.uri=t.uri,this.data=t.data,this.async=0!=t.async,this.xd=!!t.xd,this.xs=!!t.xs,this.agent=t.agent,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.headers=s.merger(a,t.headers),this.create()},s.inherits(r,u),function(){this.create=function(){var t=this.xhr=new o({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized}),e=this;try{t.open(this.method,this.uri,this.async),"withCredentials"in t&&(t.withCredentials=!0);try{if(this.headers)for(var n in this.headers)this.headers.hasOwnProperty(n)&&t.setRequestHeader(n,this.headers[n])}catch(i){console.log("setHeader error",i)}this.hasXDR()?(t.onload=function(){e.onLoad()},t.onerror=function(){e.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?e.onLoad():s.nextTick(function(){e.onError(t.status)}))},t.send(this.data)}catch(i){return s.nextTick(function(){e.onError(i)})}r.requests&&(this.index=r.requests.requestsCount++,r.requests[this.index]=this)},this.onSuccess=function(){this.emit("success"),this.cleanup()},this.onData=function(t){this.emit("data",t),this.onSuccess()},this.onError=function(t){this.emit("error",t),this.cleanup(!0)},this.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}r.requests&&delete r.requests[this.index],this.xhr=null}},this.onLoad=function(){var e;try{var n;try{n=this.xhr.getResponseHeader("Content-Type")}catch(i){}if("application/octet-stream"==n)e=this.xhr.response;else if(this.supportsBinary){var r=t("./buffer");e=String.fromCharCode.apply(null,new r(this.xhr.response))}else e=this.xhr.responseText}catch(i){this.onError(i)}null!=e&&this.onData(e)},this.hasXDR=function(){return(!i||"undefined"!=typeof i.XDomainRequest)&&!this.xs&&this.enablesXDR},this.abort=function(){this.cleanup()},i.attachEvent?i.attachEvent("onunload",r.unloadHandler):i.addEventListener("beforeunload",r.unloadHandler,!1)}.call(r.prototype);else{var h=t("url"),r=function(t){this.uri=t.uri,this.method=t.method||"GET",this.data=t.data,this.encoding=t.encoding||"utf8",this.headers=s.merger(a,t.headers),this.create()};s.inherits(r,u),function(){this.create=function(){var e=this,n=h.parse(this.uri);n.method=this.method;var i=n.protocol.substring(0,n.protocol.length-1),o=t(i),s=t("domain"),u=s.create();u.on("error",function(t){e.onError(t)}),u.run(function(){var t=this.req=o.request(n,function(t){if(200!=t.statusCode)return e.onError(t.statusCode);e.emit("headers",t.headers),t.setEncoding(e.encoding);var n="";t.on("data",function(t){e.emit("chunk",t),n+=t.toString()}),t.on("end",function(){e.onData(n,t.headers)})});t.on("error",function(t){e.onError(t)}),t.end(this.data),r.requests&&(this.index=r.requests.requestsCount++,r.requests[this.index]=this)})},this.onError=function(t){this.emit("error",t),this.cleanup(!0)},this.onData=function(t,e){this.emit("data",t,e),this.cleanup(!1)},this.cleanup=function(t){if("undefined"!=typeof this.req&&null!=this.req){if(this.onData=this.onError=c,t)try{this.req.abort()}catch(e){}r.requests&&delete r.requests[this.index],this.req=null}}}.call(r.prototype)}(function(){this.requests={},this.requestsCount=0;var t=this;this.unloadHandler=function(){for(var e in t.requests)t.requests.hasOwnProperty(e)&&t.requests[e].abort()};var e=function(t){return encodeURIComponent(t)},n=function(t){switch(console.log(t),typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";case"object":return JSON.stringify(t);default:return""}},i=this.urlencode=function(t,i,r){return i=i||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=e(n(i))+r;return Array.isArray(t[i])?o+e(JSON.stringify(t[i])):o+e(n(t[i]))}).join(i):void 0};this.urldecode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;r>i;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e};this.get=function(t,e,n,o,u){s.isFunction(n)&&(u=o,o=n,n={}),n.method="GET",n.uri=t+"?"+i(e);var c=new r(n);return o&&c.on("data",o),u&&c.on("error",u),c};var o=function(t){return t["Content-type"]?t["Content-type"].match(/octet-stream/i)?"octet-stream":t["Content-type"].match(/urlencoded/i)?"urlencoded":t["Content-type"].match(/json/i)?"json":t["Content-type"].match(/text/i)?"text":void 0:"text"},u=function(t,e){switch(o(e)){case"urlencoded":return i(t);case"json":return JSON.stringify(t);case"octet-stream":if(s.isString(t))return t;var n=Object.keys(t);return e["x-file-name"]=n[0],t[n[0]];default:return t.toString()}};this.post=function(t,e,n,i,o){s.isFunction(n)&&(o=i,i=n,n={}),n.method="POST",n.headers=n.headers||{},n.uri=t,n.data=u(e,n.headers),n.headers["Content-length"]=n.data.length;var c=new r(n);return i&&c.on("data",i),o&&c.on("error",o),c},this.XMLHttpRequest=!0}).call(r),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/extras/imageUtils",["require","exports","module","window"],function(t,e,n,i){var r={};(function(){var t=this;this.crossOrigin=void 0,this.map={},this.loadTexture=function(e,n,i,r){var o=new TextureLoader;o.setCrossOrigin(t.crossOrigin);var s=o.load(e,i,void 0,r);return n&&(s.mapping=n),s},this.loadImage=function(t,e,n,i){}}).call(r),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/index",["require","exports","module","window"],function(t,e,n,i){(function(){var e=t("latte_lib"),n=t("./utils/hashMap"),i=new n,r=t("./utils/lib"),o=t("./renderer"),s=t("./object"),u=function(t,e){var n=this;this.type=e||u.defaultType,this.renderer=o.create(t,this.type),this.root=s.create("root",{x:0,y:0,width:this.renderer.width,height:this.renderer.height},{backgroundColor:"#000000"});var i={x:0,y:0};t.addEventListener("mousedown",function(t){},!1),t.addEventListener("mouseup",function(t){},!1),t.addEventListener("click",function(t){n.root.isDown({x:i.x,y:i.y},0)},!1),t.addEventListener("dblclick",function(t){},!1),t.addEventListener("mousewheel",function(t){},!1),t.addEventListener("mousemove",function(e){var n,r;e.pageX||e.pageY?(n=e.pageX,r=e.pageY):(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),n-=t.offsetLeft,r-=t.offsetTop,i.x=n,i.y=r},!1),t.addEventListener("mouseover",function(t){},!1),t.addEventListener("mouseout",function(t){},!1);var r={x:null,y:null,isPressed:!1};t.addEventListener("touchstart",function(t){r.isPressed=!0},!1),t.addEventListener("touchend",function(t){r.isPressed=!1,r.x=null,r.y=null},!1),t.addEventListener("touchmove",function(t){var e,n;touch_event=t.touches[0],touch_event.pageX||touch_event.pageY?(e=touch_event.pageX,n=touch_event.pageY):(e=touch_event.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=touch_event.clientY+document.body.scrollTop+document.documentElement.scrollTop),e-=offsetLeft,n-=offsetTop,r.x=e,r.y=n},!1)};e.inherits(u,e.events),function(){this.setRoot=function(t){t.call(this.root)},this.run=function(){var t=[];this.root.update(0,t),this.renderer.draw(t)},this.add=function(t,e){this.root.add(t,e)},this.query=function(t){return this.root.query(t)},this.start=function(){var t=this,e=function(){t.run(),requestAnimationFrame(e)};requestAnimationFrame(e)},this.startOne=function(){this.run()}}.call(u.prototype),function(){this.types={"2d":{},"3d":{}},this.defaultType=function(){return"2d"}()}.call(u),this.get=function(t){if(e.isString(t)&&(t=document.getElementById(t),!t)){var n=document.createElement("canvas");n.id=t,t=n}if(!r.isDom(t,"canvas"))throw new Error("element type is not canvas  ");var o=i.get(t);return renderer||(o=new u(t),i.push(t,o)),o}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/loaders/textureLoader",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){var t=this;this.enabled=!1,this.files={},this.add=function(e,n){t.enabled!==!1&&(this.files[e]=n)},this.get=function(e){return t.enabled!==!1?this.files[e]:void 0},this.remove=function(e){delete t.files[e]},this.clear=function(){t.files={}}}).call(r)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/loaders/imageLoader",["require","exports","module","window"],function(t,e,n,i){var r=t("./cache"),o=function(t){this.manager=void 0!==t?t:DefaultLoadingManager};(function(){this.load=function(t,e,n,i){var o=this,s=r.get(t);if(void 0!==s)return o.manager.itemStart(t),e?setTimeout(function(){e(s),o.manager.itemEnd(t)},0):o.manager.itemEnd(t),s;var u=document.createElement("img");return u.addEventListener("load",function(n){r.add(t,this),e&&e(this),o.manager.itemEnd(t)},!1),void 0!==n&&u.addEventListener("progress",function(t){n(t)},!1),u.addEventListener("error",function(e){i&&i(e),o.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(u.crossOrigin=this.crossOrigin),o.manager.itemStart(t),u.src=t,u},this.setCrossOrigin=function(t){this.crossOrigin=t}}).call(o.prototype)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/loaders/loadingManager",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e,n){var i=this,r=!1,o=0,s=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,r===!1&&void 0!==i.onStart&&i.onStart(url,o,s),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)}};(function(){this.DefaultLoadingManager=new r}).call(r),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/loaders/textureLoader",["require","exports","module","window"],function(t,e,n,i){var r=t("./loadingManager").DefaultLoadingManager,o=function(t){this.manager=void 0!==t?t:r};(function(){this.load=function(){var t=new Texture,e=new ImageLoader(this.manager);return e.setCrossOrigin(this.crossOrigin),loadder.load(url,function(e){t.image=e,t.needsUpdate=!0,void 0!==onLoad&&onLoad(t)},onProgress,onError),t},this.setCrossOrigin=function(t){this.crossorigin=t}}).call(o.prototype)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/math/euler",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||r.DefaultOrder};(function(){RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],DefaultOrder="XYZ"}).call(r),latte_lib.inherits(r,latte_lib.events),function(){Object.defineProperty(this,"x",{get:function(){return this._x},set:function(t){this._x=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"y",{get:function(){return this._y},set:function(t){this._y=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"z",{get:function(){return this._z},set:function(t){this._z=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"order",{get:function(){return this._order},set:function(t){this._order=t,this.emit("change")},configurable:!1,enumerable:!1}),this.clone=function(){return new this.constructor(this._x,this._y,this._z)},this.copy=function(){return this._x=euler._x,this._y=euler._y,this._z=euler._z,this._order=euler._order,this.emit("change"),this},this.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},this.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},this.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},this.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},this.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)}}.call(r.prototype)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/math/quaternion",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1};latte_lib.inherits(Euler,latte_lib.events),function(){this.constructor=r,Object.defineProperty(this,"x",{get:function(){return this._x},set:function(t){this._x=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"y",{get:function(){return this._y},set:function(t){this._y=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"z",{get:function(){return this._z},set:function(t){this._z=t,this.emit("change")},configurable:!1,enumerable:!1}),Object.defineProperty(this,"w",{get:function(){return this._w},set:function(t){this._w=t,this.emit("change")},configurable:!1,enumerable:!1}),this.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)},this.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.emit("change"),this},this.setFromEuler=function(t,e){if(t instanceof Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),i=Math.cos(t._y/2),r=Math.cos(t._z/2),o=Math.sin(t._x/2),s=Math.sin(t._y/2),u=Math.sin(t._z/2),c=t.order,a=o*i*r,h=n*s*u,f=n*s*r,l=o*i*u,d=n*i*u,p=o*s*r,y=n*i*r,m=o*s*u;return"XYZ"===c?(this._x=a+h,this._y=f-l,this._z=d+p,this._w=y-m):"YXZ"==c?(this._x=a+h,this._y=f-l,this._z=d-p,this._w=y+m):"ZXY"===c?(this._x=a-h,this._y=f+l,this._z=d+p,this._w=y-m):"ZYX"===c?(this._x=a-h,this._y=f+l,this._z=d-p,this._w=y+m):"YZX"===c&&(this._x=a-h,this._y=f-l,this._z=d+p,this._w=y+m),e!==!1&&this.emit("change"),this},this.setFromAxisAngle=function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.emit("change"),this},this.setFromRotationMatrix=function(t){var e,n=t.elements,i=n[0],r=n[4],o=n[8],s=n[1],u=n[5],c=n[9],a=n[2],h=n[6],f=n[10],l=i+u+f;return l>0?(e=.5/Math.sqrt(l+1),this._w=.25/e,this._x=(h-c)*e,this._y=(o-a)*e,this._z=(s-r)*e):i>u&&i>f?(e=2*Math.sqrt(1+i-u-f),this._w=(h-c)/e,this._x=.25*e,this._y=(r+s)/e,this._z=(o+a)/e):u>f?(e=2*Math.sqrt(1+u-i-f),this._w=(o-a)/e,this._x=(r+s)/e,this._y=.25*e,this._z=(c+h)/e):(e=2*Math.sqrt(1+f-i-u),this._w=(s-r)/e,this._x=(o+a)/e,this._y=(c+h)/e,this._z=.25*e),this.onChangeCallback(),this},this.setFromUnitVectors=function(){var t,e,n=1e-6;return function(i,r){return void 0===t&&(t=new Vector3),e=i.dot(r)+1,n>e?(e=0,Math.abs(i.x)>Math.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize(),this}}(),this.inverse=function(){return this.conjugate().normalize(),this},this.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.emit("change"),this},this.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},this.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},this.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},this.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.emit("change"),this},this.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},this.multiplyQuaternions=function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,u=e._y,c=e._z,a=e._w;return this._x=n*a+o*s+i*c-r*u,this._y=i*a+o*u+r*s-n*c,this._z=r*a+o*c+n*u-i*s,this._w=o*a-n*s-i*u-r*c,this.onChangeCallback(),this},this.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},this.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,s=o*t._w+n*t._x+i*t._y+r*t._z;if(0>s?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var u=Math.acos(s),c=Math.sqrt(1-s*s);if(Math.abs(c)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var a=Math.sin((1-e)*u)/c,h=Math.sin(e*u)/c;return this._w=o*a+this._w*h,this._x=n*a+this._x*h,this._y=i*a+this._y*h,this._z=r*a+this._z*h,this.onChangeCallback(),this},this.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},this.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},this.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},this.onChange=function(t){return this.on("change",t),this}}.call(r.prototype)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/math/vector2",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e){this.x=t||0,this.y=e||0};(function(){this.constructor=r,this.set=function(t,e){this.x=t,this.y=e},this.clone=function(t){return new this.constructor(this.x,this.y)},this.copy=function(t){this.x=t.x,this.y=t.y},this.add=function(t){return this.x+=t.x,this.y+=t.y,this},this.addScalar=function(t){return this.x+=t,this.y+=t,this},this.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},this.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},this.sub=function(t){return this.x-=t.x,this.y-=t.y,this},this.subScalar=function(t){return this.x-=t,this.y-=t,this},this.subvectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},this.multiply=function(t){return this.x*=t.x,this.y*=t,y,this},this.multiplyScalar=function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},this.divide=function(t){return this.x/=t.x,this.y/=t.y,this},this.divideScalar=function(t){return this.multiplyScalar(1/t)},this.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},this.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},this.clamp=function(){return this.x=Math.max(min.x,Math.min(max.x,this.x)),this.y=Math.max(min.y,Math.min(max.y,this.y)),this},this.clampScalar=function(){var t,e;return function(n,i){return void 0===t&&(t=new THREE.Vector2,e=new THREE.Vector2),t.set(n,n),e.set(i,i),this.clamp(t,e)}}(),this.clampLength=function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n),this},this.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},this.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},this.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},this.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},this.negate=function(){return this.x=-this.x,this.y=-this.y,this},this.dot=function(t){return this.x*t.x+this.y*t.y},this.lengthSq=function(){return this.x*this.x+this.y*this.y},this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.lengthManhattan=function(){return Math.abs(this.x)+Math.abs(this.y)},this.normalize=function(){return this.divideScalar(this.length())},this.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},this.distanceToSquared=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},this.setLength=function(t){return this.multiplyScalar(length/this.length())},this.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},this.lerpvectors=function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t),this},this.equals=function(t){return t.x===this.x&&t.y===this.y},this.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},this.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},this.fromAttribute=function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},this.rotateAround=function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2AABB",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2Bound",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2BoundValues",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2Collision",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2ContactID",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2ContactPoint",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2Distance",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/collision/b2DistanceInput",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/dynamics/b2Body",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){this.b2_staticBody=0,this.b2_kinematicBody=1,this.b2_dynamicBody=2}).call(r),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/dynamics/b2BodyDef",["require","exports","module","window"],function(t,e,n,i){var r=function(){this.position=new Vection2,this.linearVelocity=new Vection2};(function(){this.init=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.set(0,0),this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.type=b2Body.b2_staticBody,this.active=!0,this.inertiaScale=1}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/dynamics/b2FilterData",["require","exports","module","window"],function(t,e,n,i){var r=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0};(function(){this.clone=function(){var t=new r;return t.categoryBits=1,t.maskBits=this.maskBits,t.groupIndex=this.groupIndex,t}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/box/dynamics/b2FixtureDef",["require","exports","module","window"],function(t,e,n,i){var r=function(){this.filter=new b2FilterData,this.init()};(function(){this.init=function(){this.shape=null,this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.filter.categoryBits=1,this.filter.groupIndex=0,this.isSensor=!1}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/collision",["require","exports","module","window"],function(t,e,n,i){var r=function(){this.s_stack=new Vector,this.m_contactManager=new b2ContactManager,this.m_contactSolver=new b2ContactSolver,this.m_island=new b2Island};(function(){this.init=function(){this.m_destructionListener=null,this.m_debugDraw=null,this.m_bodyList=null,this.m_contactList=null,this.m_jointList=null,this.m_controllerCount=0,this.m_jointCount=0,this.m_controllerCount=0,r.m_warmStarting=!0,r.m_continuousPhysics=!0,this.m_allowSleep=doSleep,this.m_gravity=gravity,this.m_inv_dt0=0,this.m_contactManager.m_world=this;var t=new b2BodyDef;this.m_groundBody=this.CreateBody(t)},this.CreateBody=function(t){if(1==this.IsLocked)return null;new b2Body(def,this);return b.m_prev=null,b.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=b),this.m_bodyList=b,++this.m_bodyCount,b}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/collision",["require","exports","module","window"],function(t,e,n,i){var r=function(){};(function(){}).call(r.prototype),function(){this.create=function(){return new r}}.call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/index",["require","exports","module","window"],function(t,e,n,i){var r=t("latte_lib"),o=t("./transform"),s=t("./collision"),u=function(t,e,n){this.attribute=n||{},this.childers={},this.partner=null,this.name=t,this.type="object",this.visible=!0,this.transform=o.create(e),this.collision=s.create(e),this.events=new r.events};(function(){this.getPath=function(t){if(null==this.partner)return"";for(var e=this.partner,n=this.name;e!=t;)n=e.name+"/"+n,e=e.partner;return n},this.addChild=function(t){this.childers[t.name]=this.childers[t.name]||[],this.childers[t.name].push(t),t.partner=this},this.setAttribute=function(t,e){this.attribute[t]=e},this.removeChilde=function(t){var e=this.childers[t.name].indexOf(t);r.removeArray(this.childers[t.name],e),t.partner=null},this.query=function(t){r.isString(t)&&(t=t.split("/"));var e=t.shift();if(!e)return[this];var n=[];return this.childers[e]&&this.childers[e].forEach(function(t){n=n.concat(t.query(e))}),n},this.add=function(t,e){if(r.isString(t)&&(t=t.split("/")),!t.length)return this.addChild(e);var n=t.shift();if(this.childers[n])this.childers[n].forEach(function(n){n.add(r.copy(t),e)});else{var i=u.create(n);this.addChild(i),i.add(t,e)}},this.update=function(t,e,n){var i=this,r=this.doUpdate(t,e,n);return t++,Object.keys(this.childers).forEach(function(n){i.childers[n].forEach(function(n){n.update(t,e,r)})}),e},this.doUpdate=function(t,e,n){var i=this.transform.update(n);return i.type="rectangle",i.index=t,i.backgroundColor=this.attribute.backgroundColor,e.push(i),i},this.isDown=function(t,e,n){var i=[],r=this.transform.update(n);this.transform["in"](t,r)&&i.push({index:e,object:this}),e++;var o=this;if(Object.keys(this.childers).forEach(function(n){o.childers[n].forEach(function(n){var o=n.isDown(t,e,r);o&&i.push(o)})}),0==i.length)return null;var s={index:-1};return i.forEach(function(t){t.index>s.index&&(s=t);
}),-1==s.index?null:(n||s.object.emit("click",u.createEvent(s.object)),s)},this.on=function(t,e){this.events.on(t,e)},this.emit=function(t,e){this.events.emit(t,e),!e.stop&&this.partner&&this.partner.emit(t,e)}}).call(u.prototype),function(){this.create=function(t,e,n){return new u(t,e,n)},this.createDefault=function(){return new u},this.createEvent=function(t){var e={};return e._stop=!1,e.object=t,Object.defineProperty(e,"stop",{set:function(t){this._stop=t},get:function(){return this._stop}}),e}}.call(u),n.exports=u})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/object/transform",["require","exports","module","window"],function(t,e,n,i){var r=function(t){this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.position=t.position||"relative"};(function(){this.update=function(t){t||(t=r.defaultObject);var e={};switch(this.position){case"absolute":e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height;break;case"relative":default:e.x=t.x+this.x,e.y=t.y+this.y,e.width=this.width,e.height=this.height}return e},this["in"]=function(t,e){return e.x<t.x&&t.x<e.x+e.width&&e.y<t.y&&t.y<e.y+e.height?!0:!1}}).call(r.prototype),function(){this.defaultObject={x:0,y:0,width:0,height:0}}.call(r),function(){this.create=function(t){return t||(t={}),new r(t)}}.call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/renderer/2D/renderer2D",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e){this.context=t.getContext("2d"),this.width=t.width,this.height=t.height};(function(){this.draw=function(t){var e=this;t.forEach(function(t){e.drawOne(t)})},this.drawOne=function(t){switch(t.type){case"image":var e=t.image;this.context.drawIamge(e.resources,e.x,e.y,e.width,e.height,t.x,t.y,t.width||e.width,t.height||e.height);break;case"rectangle":this.context.fillStyle=t.backgroundColor,this.context.fillRect(t.x,t.y,t.width,t.height)}},this.clear=function(){this.context.clearRect(0,0,this.width,this.height)}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/renderer/3D/renderer3D",["require","exports","module","window"],function(t,e,n,i){var r=function(t,e){this.context=t.getContext("2d")};(function(){this.draw=function(t){var e=this;t.forEach(function(t){e.drawOne(t)})},this.drawOne=function(t){switch(t.type){case"image":this.context.fillStyle=t.fillStyle,iamge=utils.getImage(t.image),this.context.drawImage(image,t.x,t.y,t.height,t.width)}},this.clear=function(){}}).call(r.prototype),n.exports=r})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/renderer/index",["require","exports","module","window"],function(t,e,n,i){(function(){var e=this;this.renderers={"2d":t("./2D/renderer2D"),"3d":t("./3D/renderer3D")},this.create=function(t,n){return new e.renderers[n](t)}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/utils/hashMap",["require","exports","module","window"],function(t,e,n,i){var r=t("latte_lib"),o=function(){this.keys={},this.values={}};(function(){this.push=function(t,e){var n=o.getCode(t),i=o.getCode(e);this.keys[i]=t,this.values[n]=e},this.get=function(t){var e=o.getCode(t);return this.values[e]},this.getKey=function(t){var e=o.getCode(key);return this.values[e]}}).call(o.prototype),function(){var t=0;this.getCode=function(e){return r.isString(e)?e:e.code?e.code:(e.code=t++,e.code)}}.call(o),n.exports=o})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)}),function(t){"use strict";t("latte_renderer/utils/lib",["require","exports","module","window"],function(t,e,n,i){(function(){this.isDom="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}}).call(n.exports)})}("function"==typeof define?define:function(t,e,n){n(require,exports,module)});